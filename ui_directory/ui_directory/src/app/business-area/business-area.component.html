<div class="container">
  <h2>Manage Business Areas and Types</h2>
  <!-- Bootstrap Nav Tabs -->
  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
      <a class="nav-link active" id="business-area-tab" data-bs-toggle="tab" href="#business-area" role="tab" aria-controls="business-area" aria-selected="true">Business Area</a>
    </li>
    <li class="nav-item" role="presentation">
      <a class="nav-link" id="business-area-type-tab" data-bs-toggle="tab" href="#business-area-type" role="tab" aria-controls="business-area-type" aria-selected="false">Business Area Type</a>
    </li>
    <li class="nav-item" role="presentation">
      <a class="nav-link" id="relationships-tab" data-bs-toggle="tab" href="#relationships" role="tab" aria-controls="relationships" aria-selected="false">Relationships</a>
    </li>
  </ul>

  <!-- Bootstrap Tab Content -->
  <div class="tab-content" id="myTabContent">
    <!-- Business Area Tab -->
    <div class="tab-pane fade show active" id="business-area" role="tabpanel" aria-labelledby="business-area-tab">
      <h3>Create Business Area</h3>
      <form (ngSubmit)="onSubmit()" #businessAreaForm="ngForm">
        <div class="mb-3">
          <label for="businessAreaName" class="form-label">Business Area Name</label>
          <input
            type="text"
            id="businessAreaName"
            class="form-control"
            [(ngModel)]="businessArea.name"
            name="businessAreaName"
            required
          />
        </div>

        <!-- Business Area Type Dropdown -->
        <div class="mb-3">
          <label for="businessAreaType" class="form-label">Business Area Type</label>
          <select
            class="form-select"
            id="businessAreaType"
            [(ngModel)]="businessArea.businessAreaTypeId"
            name="businessAreaType"
            required
          >
            <option *ngFor="let type of businessAreaTypes" [value]="type.id">{{ type.name }}</option>
          </select>
        </div>

        <!-- Parent Business Area (optional) -->
        <div class="mb-3">
          <label for="parentBusinessArea" class="form-label">placeholder</label>
          <select
            class="form-select"
            id="parentBusinessArea"
            [(ngModel)]="businessArea.parentBusinessAreaId"
            name="parentBusinessArea"
          >
            <option *ngFor="let area of businessAreas" [value]="area.id">{{ area.name }}</option>
          </select>
        </div>

        <button type="submit" class="btn btn-primary">Create Business Area</button>
      </form>
    </div>

    <!-- Business Area Type Tab -->
    <div class="tab-pane fade" id="business-area-type" role="tabpanel" aria-labelledby="business-area-type-tab">
      <h3>Create Business Area Type</h3>
      <form (ngSubmit)="addBusinessAreaType()" #businessAreaTypeForm="ngForm">
        <div class="mb-3">
          <label for="businessAreaTypeName" class="form-label">Business Area Type Name</label>
          <input
            type="text"
            id="businessAreaTypeName"
            class="form-control"
            [(ngModel)]="newBusinessAreaType.name"
            name="businessAreaTypeName"
            required
          />
        </div>

        <button type="submit" class="btn btn-secondary">Add Business Area Type</button>
      </form>
    </div>

    <!-- Relationships Tab -->
    <div class="tab-pane fade" id="relationships" role="tabpanel" aria-labelledby="relationships-tab">
      <!--<h3>Create Business Area Relationships</h3>
      <form (ngSubmit)="onSubmitRelationship()" #relationshipForm="ngForm">
        <div class="row">
          <div class="col-md-6">
            <label for="parentBusinessAreaRel" class="form-label">Parent Business Area</label>
            <select
              class="form-select"
              id="parentBusinessAreaRel"
              [(ngModel)]="relationship.parentBusinessAreaId"
              name="parentBusinessAreaRel"
              required
            >
              <option *ngFor="let area of businessAreas" [value]="area.id">{{ area.name }}</option>
            </select>
          </div>
          <div class="col-md-6">
            <label for="childBusinessAreaRel" class="form-label">Child Business Area</label>
            <select
              class="form-select"
              id="childBusinessAreaRel"
              [(ngModel)]="relationship.childBusinessAreaId"
              name="childBusinessAreaRel"
              required
            >
              <option *ngFor="let area of businessAreas" [value]="area.id">{{ area.name }}</option>
            </select>
          </div>
        </div>

        <button type="submit" class="btn btn-primary mt-3">Create Relationship</button>
      </form>-->

      <h3>Create Business Area Type Relationships</h3>
      <form (ngSubmit)="onSubmitTypeRelationship()" #typeRelationshipForm="ngForm">
        <div class="row">
        <div class="col-md-6">
            <label for="parentBusinessAreaTypeRel" class="form-label">Parent Business Area Type</label>
            <select
              class="form-select"
              id="parentBusinessAreaTypeRel"
              [(ngModel)]="typeRelationship.parentBusinessAreaTypeId"
              name="parentBusinessAreaTypeRel"
              required
            >
              <option *ngFor="let type of businessAreaTypes" [value]="type.id">{{ type.name }}</option>
            </select>
          </div>
          <div class="col-md-6">
            <label for="childBusinessAreaTypeRel" class="form-label">Child Business Area Type</label>
            <select
              class="form-select"
              id="childBusinessAreaTypeRel"
              [(ngModel)]="typeRelationship.childBusinessAreaTypeId"
              name="childBusinessAreaTypeRel"
              required
            >
              <option *ngFor="let type of businessAreaTypes" [value]="type.id">{{ type.name }}</option>
            </select>
          </div>
        </div>

        <button type="submit" class="btn btn-primary mt-3">Create Type Relationship</button>
      </form>
    </div>
  </div>
</div>
